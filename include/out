#ifndef __OUT__
#define __OUT__

/* for isatty */
#include <unistd.h>

/* for exit */
#include <cstdlib>
#include <iostream>

class colorbuf : public std::streambuf {

    private:
        int filedes;
        std::streambuf *dest;
        bool tty;
        char magic[7];

    public:
        colorbuf(int fd, char color) {
            filedes = fd;
            if (filedes == 1) dest = std::cout.rdbuf();
            else if (filedes == 2) dest = std::cerr.rdbuf();
            else {
                std::cerr << "illegal file descriptor in colorbuf" << std::endl;
                exit(11);
            }

            tty = isatty(filedes);

            int colorcode;
            
        }

};
#endif